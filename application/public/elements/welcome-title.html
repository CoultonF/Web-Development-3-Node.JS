
<!-- bower install polymerelements/iron-ajax -->

<link rel="import" href="../lib/iron-ajax/iron-ajax.html">

<dom-module id="welcome-title">
    <template id="">
        Welcome, <strong>{{username}}</strong>.
        <iron-ajax id="getUsername" url="http://localhost:3001/secure/username" method="GET" handle-as="text" on-response="getUsernameCB" with-credentials='true'></iron-ajax>
    </template>

</dom-module>
<script>
    Polymer({

        is: "welcome-title",

        ready: function(){

            //this.username = "Working";
            this.$.getUsername.generateRequest();

        },

        getUsernameCB: function(data){

            this.username = data.detail.response.charAt(0).toUpperCase() + data.detail.response.slice(1);
        }

    })
</script>
